(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{76643:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var a=r(95155),o=r(50134),n=r(66766),l=r(37129);let i=l.Ik().shape({username:l.Yj().required("Username must be provide"),password:l.Yj().required("Password must be provide")});var t=r(94227),c=r(71007),d=r(32919),m=r(52021),u=r(23176),h=r(4642),p=r(12108),g=r(13568);let f=()=>({loginNow:e=>async(s,r)=>{try{s((0,h.Bm)());let a=r().form.LoginForm,o=new Promise(async(e,s)=>{let r=await (0,p.signIn)("credentials",{redirect:!1,username:a.username,password:a.password});return(null==r?void 0:r.ok)?e(r):s(Error("Username atau password salah"))});await g.Ay.promise(o,{loading:"Logging in...",success:"Login Success!",error:e=>e.message||"Login Failed"},{success:{duration:3e3},error:{duration:4e3}}),e.push("/admin"),s((0,u.E2)("all"))}catch(e){s((0,h.lF)())}finally{s((0,h.lF)())}}});var w=r(14661),j=r(12115),x=r(35695);function b(){let e=f(),s=(0,w.j)(),{status:r}=(0,p.useSession)(),l=(0,x.useRouter)();return(0,j.useEffect)(()=>{"authenticated"===r&&l.push("/admin")},[r,l]),(0,a.jsxs)("div",{className:"bg-transparent flex justify-center items-center h-screen",children:[(0,a.jsx)("div",{className:"w-1/2 h-screen hidden lg:block",children:(0,a.jsx)(n.default,{width:800,height:600,src:"https://img.freepik.com/fotos-premium/imagen-fondo_910766-187.jpg?w=826",alt:"Placeholder Image",className:"object-cover w-full h-full"})}),(0,a.jsxs)("div",{className:"lg-p-36 md:p-52 sm:20 p-8 w-full lg:w-1/2",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Login"}),(0,a.jsx)(o.A,{formName:"LoginForm",onSubmit:()=>{s(e.loginNow(l))},validation:i,children:e=>{let{form:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.A,{control:s.control,icon:(0,a.jsx)(c.A,{}),positionIcon:"left",label:"Username",name:"username",className:"mb-4",placeholder:"provide your username here"}),(0,a.jsx)(t.A,{control:s.control,hiddenText:!0,icon:(0,a.jsx)(d.A,{}),positionIcon:"left",label:"Password",name:"password",placeholder:"provide your password here",className:"mb-4"}),(0,a.jsx)(m.A,{type:"submit",text:"Login"})]})}})]})]})}},89828:(e,s,r)=>{Promise.resolve().then(r.bind(r,76643))}},e=>{var s=s=>e(e.s=s);e.O(0,[579,545,555,454,568,535,450,616,441,684,358],()=>s(89828)),_N_E=e.O()}]);